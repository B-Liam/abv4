---
layout: /layouts/pagetemplate.njk
pagination:
    data: gallery
    size: 1
    alias: thing
permalink: "photo-gallery/{{ thing.nameplural | slug }}/index.html"
eleventyComputed:
    title: "{{ thing.nameplural | title }} | Photo Galleries | Allotment Book"
    description: "See a photo gallery for how to grow {{ thing.nameplural | lower }} including planting, care, and when to harvest."
---

     <div id="sidebar">
             a sidebar for a page
        </div>
    
        <div id="main-column">
        
                <main id="main-content">
                                        
                    <div id="content-heading">
                        <div id="breadcrumb-container" style="display:flex; justify-content:space-between">
                            <div id="breadcrumb">
                                <a href="/photo-gallery">Galleries</a><i class="fas fa-chevron-right"></i>
                                <a href="photo-gallery/{{ thing.nameplural | slug }}/index.html">{{thing.namesingular | title}}</a><i class="fas fa-chevron-right"></i>                                
                            </div>
                            <div id="breadcrumb-back"></div>
                        </div>

                        <div>
                        
                        <div id="gallery-container" style="display:flex; align-items: center; background:#4D5656;padding-top:0.5rem">
                            <div id="previous" style="width:8%;text-align:center; color: #ffffff; font-size:2rem" class="whitelinkstyle">
                                <a onclick="previousImage()"><i class="fas fa-chevron-circle-left"></i></a>
                            </div>
                        <div id="hero" style="text-align:center; width:84%"></div>
                            <div id="next" style="width:8%;text-align:center; color: #ffffff; font-size:2rem" class="whitelinkstyle">
                                <a onclick="nextImage()"><i class="fas fa-chevron-circle-right"></i></a>
                            </div>

                        </div>
                        <div id="herotext" style="text-align:center; padding-left:20%; padding-right:20%;padding-bottom: 0.5rem;background:#4D5656;color:#ffffff"></div>


                    </div>

                    <div style="margin-top:0px" id="content-body">

                        <div id="markedup"></div>

                        {% for item in thing.photos %}
                            <div>{{ item.url }}</div>
                        {% endfor %}

                    </div>

                    
                </main>

            </div>


<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<script>

let currentIndex = 0;
let galleryPhotos = JSON.parse(`{{ thing.photos | dump | safe }}`);

function heroImage(index) {
    document.getElementById("hero").innerHTML = createImage(galleryPhotos[index].url)
}
heroImage(currentIndex);


function heroText(index) {
    document.getElementById("herotext").innerHTML = galleryPhotos[index].alt;
}
heroText(currentIndex);


function previousImage() {
    if ( currentIndex > 0 ) {
    heroImage(currentIndex - 1);
    heroText(currentIndex - 1);
    currentIndex = currentIndex - 1;
    }
    else {
    heroImage(galleryPhotos.length - 1);
    heroText(galleryPhotos.length - 1);
    currentIndex = galleryPhotos.length - 1;
    }
}

function nextImage() {
    if ( currentIndex < galleryPhotos.length - 1) {
    heroImage(currentIndex + 1);
    heroText(currentIndex + 1);
    currentIndex = currentIndex + 1;
    }
    else {
    currentIndex = 0;
    heroImage(0);
    heroText(0);
    }
}



function createImage(src) {
 return (
     `<img style="width:100%" src="https://res.cloudinary.com/allotment-book/image/upload/q_auto,f_auto/${src}" />`
 )
}


console.log(galleryPhotos);
;
document.getElementById("markedup").innerHTML = marked.parse("this");

</script>
