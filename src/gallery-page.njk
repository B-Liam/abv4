---
layout: /layouts/pagetemplate.njk
date: Last Modified
pagination:
    data: gallery
    size: 1
    alias: thing
permalink: "photo-gallery/{{ thing.name | slug }}-{{ thing.date }}/index.html"
eleventyComputed:
    title: "{{ thing.name | title }} | Photo Galleries | Allotment Book"
    description: "{{ thing.introduction | capitalize}}"
---

     <div id="sidebar">
             
        </div>
    
        <div id="main-column">
        
                <main style="min-height: 100vh" id="main-content">
                                        
                    <div id="content-heading">
                        <div id="breadcrumb-container" style="display:flex; justify-content:space-between">
                            <div id="breadcrumb">
                                <a href="/photo-gallery">Galleries</a><i class="fas fa-chevron-right"></i>
                                <a href="/photo-gallery/{{ thing.name | slug }}-{{ thing.date }}">{{thing.name | title}}</a><i class="fas fa-chevron-right"></i>                                
                            </div>
                            <div id="breadcrumb-back"></div>
                        </div>

                        <div>
                        
                        <div id="gallery-container" style="background:#ffffff;padding-top:0.5rem">
                            
                            <div class="photo-gallery-hero" id="hero" style="margin-bottom:5px"></div>
                            
                            <div id="galleryButtonContainer" style="display:flex;justify-content:space-evenly">
                                <div id="previous" style="text-align:center; color: #ffffff; font-size:1.5rem">
                                    <a onclick="previousImage()">
                                        <div style="display:flex; align-items:center; cursor:pointer">
                                            <img style="width:30px; height:30px" src="/images/uploads/green-chevron-left.webp" alt"green chevron icon" />
                                            <div style="margin-left:10px">Previous</div>
                                        </div>
                                    </a>
                                </div>
                                <div id="next" style="text-align:center; color: #ffffff; font-size:1.5rem">
                                    <a onclick="nextImage()">
                                        <div style="display:flex; align-items:center; cursor:pointer">
                                            <div style="margin-right:10px">Next</div>
                                            <img style="width:30px; height:30px" src="/images/uploads/green-chevron-right.webp" alt"green chevron icon" />
                                        </div>
                                    </a>
                            </div>
                            </div>

                        </div>
                        <h3 class="gallery-text-button" id="herotext" style="padding-bottom: 0.5rem;background:#ffffff; text-transform:capitalize">
                        </h3>
                    </div>

                    

                    <div class="gallery-text-button" style="margin-top:20px" id="content-body">
                        <div style="text-align: center">
                            <a id="link" href="/photo-gallery"><button id="linkname" style="border-radius:8px;background:#009900; border:none;color:#ffffff;font-size:1rem; padding-top: 0.5rem; padding-bottom: 0.5rem;margin-top:10px; padding-left:10px; padding-right:10px">All Galleries</button></a>
                        </div>

                    </div>

                    
                </main>

            </div>


<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<script>

let currentIndex = 0;
let galleryPhotos = JSON.parse(`{{ thing.photos | dump | safe }}`);
let galleryLinks = JSON.parse(`{{ thing | dump | safe }}`);
console.log("galleryLinks",galleryLinks)

function heroImage(index) {
    document.getElementById("hero").innerHTML = createImage(galleryPhotos[index].url);
    document.getElementById("linkname").innerHTML = galleryLinks.linkname;
    document.getElementById("link").href = galleryLinks.link;
}
heroImage(currentIndex);


function heroText(index) {
    document.getElementById("herotext").innerHTML = galleryPhotos[index].alt;
}
heroText(currentIndex);


function previousImage() {
    if ( currentIndex > 0 ) {
    heroImage(currentIndex - 1);
    heroText(currentIndex - 1);
    currentIndex = currentIndex - 1;
    }
    else {
    heroImage(galleryPhotos.length - 1);
    heroText(galleryPhotos.length - 1);
    currentIndex = galleryPhotos.length - 1;
    }
}

function nextImage() {
    if ( currentIndex < galleryPhotos.length - 1) {
    heroImage(currentIndex + 1);
    heroText(currentIndex + 1);
    currentIndex = currentIndex + 1;
    }
    else {
    currentIndex = 0;
    heroImage(0);
    heroText(0);
    }
}

function createImage(src) {
 return (
     `<img style="width:100%" src="https://res.cloudinary.com/allotment-book/image/upload/l_text:Cherry Swash_25:Â©%20AllotmentBook.co.uk,g_south_west,x_20,y_20,co_white/w_600,h_600,q_auto,f_auto/${src}" />`
 )
}

</script>
